{% extends 'Ecommerce/base.html' %}
{% load static %}

{% block content %}
  <link rel="stylesheet" href="{% static 'Ecommerce/homebody.css' %}" />

  <section class="hero">
    <div class="sub-hero"></div>
    <div class="sub-cont">
      <div class="header">
        <h2>Jyoti Agro</h2>
        <p>
          Get all of your important agricultural supplies and fertilizers<br />
          seed in one place.
        </p>
        <button>Enquiry</button>
      </div>
      <img src="/media/header.jpg" alt="Home" />
    </div>
  </section>

  <section class="categories">
    <h2 class="category-title">Category</h2>
    <div class="category-list">
        {% for category in categories %}
        <div class="category-item">
          {% comment %} <form method="POST" action="{% url 'Ecommerce:product_list' id=category.id %}"> {% endcomment %}
            {% comment %} {% csrf_token %} {% endcomment %}
            <a href="{% url 'Ecommerce:product_list' category.category_id %}">
              <h4>{{ category.category_name }}</h4>
                {% if category.category_image %}

                <img src="{{ category.category_image }}" alt="{{ category.category_name }}">
                {% else %}
                    <img src="/static/images/default-image.jpg" alt="Default Image" />
                {% endif %}
            </a>
                
          {% comment %} </form> {% endcomment %}
        </div>
        {% empty %}
        <p>No categories available.</p>
        {% endfor %}
      
  </section>

  <section>
    <div class="products">
      <h2>Seeds</h2>
      <div class="product-list">
        <div class="product-item">Jade Terrarium - $350</div>
        <div class="product-item">Ficus Benjamina - $350</div>
        <div class="product-item">Syngonium Plant - $350</div>
        <div class="product-item">Cactus Peruvianus - $350</div>
      </div>
    </div>
  </section>

  <section class="membership">
    <h2>Join Our Exclusive Membership</h2>
    <p>15% Discount, Free Shipping, Early Product Access</p>
    <button>Join Now</button>
  </section>

  <section class="faq">
    <h2>Frequently Asked Questions</h2>
    <div class="faq-item">How does this work?</div>
    <div class="faq-item">Another Question?</div>
    <div class="faq-item">Another Question?</div>
  </section>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Handle FAQ Section
      const faqItems = document.querySelectorAll('.faq-item')
    
      faqItems.forEach((item) => {
        item.addEventListener('click', () => {
          const answer = item.querySelector('.faq-answer')
          answer.classList.toggle('visible')
        })
      })
    
      // Handle Add to Cart Buttons
      const cartButtons = document.querySelectorAll('.add-to-cart')
    
      cartButtons.forEach((button) => {
        button.addEventListener('click', () => {
          alert('Product added to cart!')
        })
      })
    })
  </script>
{% endblock %}
